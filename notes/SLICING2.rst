CURRENT:
index(0 -> 2)
    = i[0] + d[0] * i[1] + d[0] * (d[1] + p[1]) * i[2]

DESIRED:
index(0 -> 2)
    = i[0] + d[0] * i[1] + ((d[0] * d[1]) + p[1]) * i[2]

index(0 -> 3)
    =                                                                (s[0]*i[0])
    +   (d[0]*s[0] + p[0])                                         * (s[1]*i[1])
    +  ((d[0]*s[0] + p[0]) * d[1]*s[1] + p[1])                     * (s[2]*i[2])
    + (((d[0]*s[0] + p[0]) * d[1]*s[1] + p[1]) * d[2]*s[2] + p[2]) * (s[3]*i[3])

    s[0]*i[0]
+
    d[0]*s[0] * s[1]*i[1]
  + p[0]      * s[1]*i[1]
+
    d[0]*s[0] * d[1]*s[1] * s[2]*i[2]
  + p[0]      * d[1]*s[1] * s[2]*i[2]
  + p[1]                  * s[2]*i[2]
+ 
    d[0]*s[0] * d[1]*s[1] * d[2]*s[2] * s[3]*i[3]
  + p[0]      * d[1]*s[1] * d[2]*s[2] * s[3]*i[3]
  + p[1]                  * d[2]*s[2] * s[3]*i[3]
  + p[2]                              * s[3]*i[3]

    s[0]*i[0]
+
    d[0]*s[0] * s[1]*i[1]
  + p[0]      * s[1]*i[1]
+
    d[0]*s[0] * d[1]*s[1] * s[2]*i[2]
  + p[0]      * d[1]*s[1] * s[2]*i[2]
  + p[1]                  * s[2]*i[2]
+ 
    d[0]*s[0] * d[1]*s[1] * d[2]*s[2] * s[3]*i[3]
  + p[0]      * d[1]*s[1] * d[2]*s[2] * s[3]*i[3]
  + p[1]                  * d[2]*s[2] * s[3]*i[3]
  + p[2]                              * s[3]*i[3]

index(0) = s[0]*i[0] + index(1)
index(n) = (d[n-1]*s[n-1]+p[n-1]) * (s[n]*i[n]+index(n+1))

index(0) = s[0]*i[0] + index(1)
index(n) = (d[n-1]*s[n-1]+p[n-1])*s[n]*i[n]
         + (d[n-1]*s[n-1]+p[n-1])*index(n+1)

